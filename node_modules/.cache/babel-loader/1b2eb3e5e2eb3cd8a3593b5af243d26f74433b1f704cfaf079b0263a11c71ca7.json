{"ast":null,"code":"import'./Home.css';import React,{useEffect,useState}from'react';import Book from'../components/Book';import AddBook from'../components/AddBook';import useFetch from'../useFetch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){let{data,error}=useFetch('http://localhost:8000/books');let[books,setBooks]=useState(null);useEffect(()=>{setBooks(data);},[data]);function handleRemove(id){fetch(\"http://localhost:8000/books/\".concat(id),{method:'DELETE'}).then(()=>{let newBooks=books.filter(element=>{return element.id!==id;});setBooks(newBooks);});}function handleSubmit(book){fetch('http://localhost:8000/books',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)}).then(()=>{let newBooks=[...books];newBooks.push(book);setBooks(newBooks);}).catch(error=>{console.error('Error adding book:',error);});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddBook,{handleSubmit:handleSubmit}),books&&books.map(element=>{return/*#__PURE__*/_jsx(Book,{id:element.id,title:element.title,author:element.author,price:element.price,handleRemove:handleRemove,books:books,setBooks:setBooks},element.id);})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","Book","AddBook","useFetch","jsx","_jsx","jsxs","_jsxs","Home","data","error","books","setBooks","handleRemove","id","fetch","concat","method","then","newBooks","filter","element","handleSubmit","book","headers","body","JSON","stringify","push","catch","console","children","map","title","author","price"],"sources":["E:/Aa Seven Mentor/Web Development Onkar Nagarkar/React/Book Management System/book_managment_system/src/Pages/Home.jsx"],"sourcesContent":["import './Home.css'\r\nimport React, { useEffect, useState } from 'react';\r\nimport Book from '../components/Book';\r\nimport AddBook from '../components/AddBook';\r\nimport useFetch from '../useFetch';\r\n\r\nfunction Home() {\r\n    let { data, error } = useFetch('http://localhost:8000/books')\r\n    let [books, setBooks] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setBooks(data);\r\n    }, [data])\r\n\r\n\r\n    function handleRemove(id) {\r\n        fetch(`http://localhost:8000/books/${id}`, {\r\n            method: 'DELETE'\r\n        })\r\n            .then(() => {\r\n                let newBooks = books.filter(\r\n                    (element) => {\r\n                        return element.id !== id;\r\n                    }\r\n                )\r\n                setBooks(newBooks);\r\n            })\r\n    }\r\n\r\n    function handleSubmit(book) {\r\n        fetch('http://localhost:8000/books', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(book)\r\n        })\r\n            .then(() => {\r\n                let newBooks = [...books];\r\n                newBooks.push(book);\r\n                setBooks(newBooks);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error adding book:', error);\r\n            });\r\n    }\r\n    return (\r\n        <div >\r\n            <AddBook handleSubmit={handleSubmit} />\r\n            {\r\n                books && books.map((element) => {\r\n                    return <Book key={element.id} id={element.id} title={element.title} author={element.author} price={element.price} handleRemove={handleRemove} books={books} setBooks={setBooks} />\r\n                })\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home"],"mappings":"AAAA,MAAO,YAAY,CACnB,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnC,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACZ,GAAI,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGP,QAAQ,CAAC,6BAA6B,CAAC,CAC7D,GAAI,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACZa,QAAQ,CAACH,IAAI,CAAC,CAClB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAGV,QAAS,CAAAI,YAAYA,CAACC,EAAE,CAAE,CACtBC,KAAK,gCAAAC,MAAA,CAAgCF,EAAE,EAAI,CACvCG,MAAM,CAAE,QACZ,CAAC,CAAC,CACGC,IAAI,CAAC,IAAM,CACR,GAAI,CAAAC,QAAQ,CAAGR,KAAK,CAACS,MAAM,CACtBC,OAAO,EAAK,CACT,MAAO,CAAAA,OAAO,CAACP,EAAE,GAAKA,EAAE,CAC5B,CACJ,CAAC,CACDF,QAAQ,CAACO,QAAQ,CAAC,CACtB,CAAC,CAAC,CACV,CAEA,QAAS,CAAAG,YAAYA,CAACC,IAAI,CAAE,CACxBR,KAAK,CAAC,6BAA6B,CAAE,CACjCE,MAAM,CAAE,MAAM,CACdO,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAC7B,CAAC,CAAC,CACGL,IAAI,CAAC,IAAM,CACR,GAAI,CAAAC,QAAQ,CAAG,CAAC,GAAGR,KAAK,CAAC,CACzBQ,QAAQ,CAACS,IAAI,CAACL,IAAI,CAAC,CACnBX,QAAQ,CAACO,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDU,KAAK,CAACnB,KAAK,EAAI,CACZoB,OAAO,CAACpB,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACV,CACA,mBACIH,KAAA,QAAAwB,QAAA,eACI1B,IAAA,CAACH,OAAO,EAACoB,YAAY,CAAEA,YAAa,CAAE,CAAC,CAEnCX,KAAK,EAAIA,KAAK,CAACqB,GAAG,CAAEX,OAAO,EAAK,CAC5B,mBAAOhB,IAAA,CAACJ,IAAI,EAAkBa,EAAE,CAAEO,OAAO,CAACP,EAAG,CAACmB,KAAK,CAAEZ,OAAO,CAACY,KAAM,CAACC,MAAM,CAAEb,OAAO,CAACa,MAAO,CAACC,KAAK,CAAEd,OAAO,CAACc,KAAM,CAACtB,YAAY,CAAEA,YAAa,CAACF,KAAK,CAAEA,KAAM,CAACC,QAAQ,CAAEA,QAAS,EAA7JS,OAAO,CAACP,EAAuJ,CAAC,CACtL,CAAC,CAAC,EAGL,CAAC,CAEd,CAEA,cAAe,CAAAN,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}