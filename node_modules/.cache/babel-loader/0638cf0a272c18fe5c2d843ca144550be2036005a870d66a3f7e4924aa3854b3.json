{"ast":null,"code":"import{useState}from'react';import'./Book.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Book(props){let[isUpdating,setIdUpdating]=useState(false);let[updatedTitle,setUpdatedTitle]=useState(props.title);let[updatedAuthor,setUpdatedAuthor]=useState(props.author);let[updatedPrice,setUpdatedPrice]=useState(props.price);function handleTitleChnage(event){setUpdatedTitle(event.target.value);}function handleAuthorChnage(event){setUpdatedAuthor(event.target.value);}function handlePriceChnage(event){setUpdatedPrice(event.target.value);}function handleUpdate(){let book;if(isUpdating){book={id:props.id,title:updatedTitle,author:updatedAuthor,price:updatedPrice};fetch(\"http://localhost:8000/books/\".concat(props.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)}).then(()=>{let newBooks=[...props.books];newBooks.map((element,idx)=>{if(element.id===book.id){newBooks.splice(idx,1,book);}});props.setBooks(newBooks);setIdUpdating(false);});}else{setIdUpdating(true);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"book-container\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"container-data1\",className:\"book-data\",children:props.id}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-data\",id:\"input-data2\",value:updatedTitle,onChange:handleTitleChnage}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data2\",className:\"book-data\",children:props.title}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-data\",id:\"input-data3\",value:updatedAuthor,onChange:handleAuthorChnage}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data3\",className:\"book-data\",children:props.author}),isUpdating?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-data\",id:\"input-data4\",value:updatedPrice,onChange:handlePriceChnage}):/*#__PURE__*/_jsx(\"span\",{id:\"container-data4\",className:\"book-data\",children:props.price}),/*#__PURE__*/_jsx(\"button\",{id:\"btnRemove\",onClick:()=>{props.handleRemove(props.id);},children:\"Remove\"}),/*#__PURE__*/_jsx(\"button\",{id:\"btnUpdate\",onClick:handleUpdate,children:isUpdating?\"Save\":\"Update\"})]});}export default Book;/* \r\nlet book\r\n        if (isUpdating == true) {\r\n            book = {\r\n                id: props.id,\r\n                title: updatedTitle,\r\n                author: updatedAuthor,\r\n                price: updatedPrice\r\n            }\r\n            \r\n            let newBooks = [...props.books];\r\n            newBooks.map(\r\n                (element, idx) => {\r\n                    if (element.id == book.id) {\r\n                        newBooks.splice(idx, 1, book);\r\n                    }\r\n                }\r\n            )\r\n\r\n            props.setBooks(newBooks);\r\n            setIdUpdating(false)\r\n        }\r\n        else {\r\n            setIdUpdating(true)\r\n        }\r\n*/","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Book","props","isUpdating","setIdUpdating","updatedTitle","setUpdatedTitle","title","updatedAuthor","setUpdatedAuthor","author","updatedPrice","setUpdatedPrice","price","handleTitleChnage","event","target","value","handleAuthorChnage","handlePriceChnage","handleUpdate","book","id","fetch","concat","method","headers","body","JSON","stringify","then","newBooks","books","map","element","idx","splice","setBooks","className","children","type","onChange","onClick","handleRemove"],"sources":["E:/Aa Seven Mentor/Web Development Onkar Nagarkar/React/Book Management System/book_managment_system/src/components/Book.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport './Book.css'\r\n\r\nfunction Book(props) {\r\n    let [isUpdating, setIdUpdating] = useState(false);\r\n    let [updatedTitle, setUpdatedTitle] = useState(props.title)\r\n    let [updatedAuthor, setUpdatedAuthor] = useState(props.author)\r\n    let [updatedPrice, setUpdatedPrice] = useState(props.price)\r\n\r\n    function handleTitleChnage(event) {\r\n        setUpdatedTitle(event.target.value)\r\n    }\r\n    function handleAuthorChnage(event) {\r\n        setUpdatedAuthor(event.target.value)\r\n    }\r\n    function handlePriceChnage(event) {\r\n        setUpdatedPrice(event.target.value)\r\n    }\r\n\r\n    function handleUpdate() {\r\n        let book\r\n        if (isUpdating) {\r\n            book = {\r\n                id: props.id,\r\n                title: updatedTitle,\r\n                author: updatedAuthor,\r\n                price: updatedPrice\r\n            }\r\n            fetch(`http://localhost:8000/books/${props.id}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(book)\r\n            })\r\n                .then(() => {\r\n                    let newBooks = [...props.books];\r\n                    newBooks.map(\r\n                        (element, idx) => {\r\n                            if (element.id === book.id) {\r\n                                newBooks.splice(idx, 1, book);\r\n                            }\r\n                        }\r\n                    )\r\n\r\n                    props.setBooks(newBooks);\r\n                    setIdUpdating(false);\r\n                })\r\n        }\r\n        else {\r\n            setIdUpdating(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n          <div className=\"book-container\">\r\n             <span id='container-data1' className=\"book-data\">{props.id}</span>\r\n             {\r\n                 isUpdating ? <input type=\"text\" className=\"input-data\" id='input-data2' value={updatedTitle} onChange={handleTitleChnage} /> : <span id='container-data2' className=\"book-data\">{props.title}</span>\r\n             }\r\n             {\r\n                 isUpdating ? <input type=\"text\" className=\"input-data\" id='input-data3' value={updatedAuthor} onChange={handleAuthorChnage} /> : <span id='container-data3' className=\"book-data\">{props.author}</span>\r\n             }\r\n             {\r\n                 isUpdating ? <input type=\"text\" className=\"input-data\" id='input-data4' value={updatedPrice} onChange={handlePriceChnage} /> : <span id='container-data4' className=\"book-data\">{props.price}</span>\r\n             }\r\n \r\n \r\n             <button id='btnRemove' onClick={() => { props.handleRemove(props.id) }}>Remove</button>\r\n             <button id='btnUpdate' onClick={handleUpdate}>\r\n                 {\r\n                     isUpdating ? \"Save\" : \"Update\"\r\n                 }\r\n             </button>\r\n         </div> \r\n\r\n       \r\n\r\n    )\r\n}\r\n\r\nexport default Book;\r\n\r\n\r\n/* \r\nlet book\r\n        if (isUpdating == true) {\r\n            book = {\r\n                id: props.id,\r\n                title: updatedTitle,\r\n                author: updatedAuthor,\r\n                price: updatedPrice\r\n            }\r\n            \r\n            let newBooks = [...props.books];\r\n            newBooks.map(\r\n                (element, idx) => {\r\n                    if (element.id == book.id) {\r\n                        newBooks.splice(idx, 1, book);\r\n                    }\r\n                }\r\n            )\r\n\r\n            props.setBooks(newBooks);\r\n            setIdUpdating(false)\r\n        }\r\n        else {\r\n            setIdUpdating(true)\r\n        }\r\n*/\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}